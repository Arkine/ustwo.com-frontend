import React from 'react';
import get from 'lodash/object/get';
import moment from 'moment';
import classnames from 'classnames';

import Actions from 'flux/actions';

export default class BlogPostListItem extends React.Component {
  render() {
    const post = this.props.data;
    const classes = classnames('blog-post-list-item', `blog-label-${get(post, 'category', 'category').toLowerCase()}`, {
      featured: this.props.featured
    });
    return (
      <article className={classes}>
        <div className="image" style={{backgroundImage: "url('/images/blog/temp-image.jpg')"}}>
          <img src="/images/blog/temp-image.jpg" />
        </div>
        <div className="content">
          <div className="blog-category">{get(post, 'category')}</div>
          <h2 className="title">{get(post, 'title.rendered')}</h2>
          <p className="meta">By {get(post, '_embedded.author.0.first_name')} {get(post, '_embedded.author.0.last_name')} - <span className="date">{moment(get(post, 'date')).format('D MMMM YYYY')}</span></p>
          <div className="excerpt" dangerouslySetInnerHTML={{ __html: get(post, 'excerpt.rendered')}} />
          <div className="tail">
            <a href={`/blog/${get(post, 'slug')}`}>Read more</a>
            {/*<div className="social">
              <div className="twitter">120</div>
              <div className="comments">43</div>
            </div>*/}
          </div>
        </div>
      </article>
    );
  }
}
