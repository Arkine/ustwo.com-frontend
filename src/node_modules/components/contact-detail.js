import React from 'react';

export default class ContactDetail extends React.Component {
  render() {
    const detail = this.props.detail;
    return (
      <section className="contact-detail">
        <h1 className="contact-detail__title">{detail.title}</h1>
        <p className="contact-detail__description">{detail.desc}</p>
        {detail.methods.map(this.renderLink(detail.type))}
      </section>
    );
  }
  onClickContact(contactType, link) {
    return (e) => {
      ga('send', {
        'hitType': 'event',          // Required.
        'eventCategory': 'contact',   // Required.
        'eventAction': 'click_' + contactType + '_' + link.type,   // Required.
        'eventLabel': 'home' // TODO: Remove once GA has been hooked into router
      });
    };
  }
  renderLink(contactType) {
    return (link) => {
      let prefix = "";
      switch(link.type) {
        case 'email':
          prefix = "mailto:";
        break;
        case 'tel':
          prefix = "tel:";
        break;
      }
      return <a className={`contact-detail__link ${link.type}`} href={`${prefix}${link.url}`} onClick={this.onClickContact(contactType, link)}>{link.text}</a>;
    };
  }
}
