'use strict';

import React from 'react';
import classnames from 'classnames';
import get from 'lodash/object/get';

import Router from 'flux/router';

export default class WorkItem extends React.Component {
  render() {
    const data = this.props.data;
    const link = `/what-we-do/${get(data, 'slug')}`;
    return (
      <li className={classnames(this.props.className, 'work-item')} style={{backgroundColor: get(data, 'colors.bg')}}>
        <a href={link} onClick={Router.override(link)} className="work-item__image-link" style={{backgroundImage: `url('${data.image}')`}}>
          <img className="work-item__image-link__image" src={data.image} />
        </a>
        <div className="work-item__details">
          <p className="work-item__details__type" style={{borderColor: get(data, 'colors.secondary')}}>Client</p>
          <h3 className="work-item__details__title" style={{color: get(data, 'colors.primary')}}>{get(data, 'name')}</h3>
          <div className="work-item__details__desc" dangerouslySetInnerHTML={{__html: get(data, 'excerpt')}} />
          <a className="work-item__details__cta" href={link} style={{borderColor: get(data, 'colors.secondary')}} onClick={Router.override(link)}>Read more</a>
        </div>
      </li>
    );
  }
}
